{% extends 'index.html' %}

{% block title %}検索結果{% endblock %}

{% block contents %}
<div class="container">
    <div class="row">
        <div class="col-12"> <!-- col-12で全幅を使用 -->
            <h2 class="mt-4 mb-4 text-center">検索結果</h2> <!-- 検索結果のタイトル -->

            {% if results %}
                <div class="list-group">
                    {% for result in results %}
                        <div class="list-group-item mt-4 shadow-sm" style="border: none;">
                            <!-- タイトル -->
                            <h3 class="mb-3">{{ result.title }}</h3>

                            <!-- 画像とコメントを横並びにするためのdiv -->
                            <div class="d-flex flex-column flex-md-row mt-3">
                                <!-- 1枚目の写真 -->
                                {% if result.image1 %}
                                    <p><img src="{{ result.image1.url }}" class="img-fluid" style="max-width: 100%; max-height: 300px; margin-bottom: 10px; border-radius: 5px;"></p>
                                {% endif %}

                                <!-- コメント（改行を有効にする） -->
                                <p class="flex-grow-1">{{ result.comment|linebreaksbr }}</p>
                            </div>

                            <!-- 投稿日時 -->
                            <div class="mt-3 text-muted">
                                <p>投稿日: {{ result.posted_at|date:"Y年m月d日 H:i" }}</p> <!-- 日付形式のカスタマイズ -->
                            </div>
                        </div>
                    {% endfor %}
                </div>
            {% else %}
                <p class="text-center">検索結果は見つかりませんでした。</p>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
